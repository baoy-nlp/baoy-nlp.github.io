<!DOCTYPE html>
<html lang="{{ site.lang | default: "en-US" }}">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    {% seo %}
    <link rel="stylesheet" href="{{ "/assets/css/style.css?v=" | append: site.github.build_revision | relative_url }}">
    <style>
      /* 页面整体容器：居中 + 最大宽度1000px */
      .page-wrapper {
        max-width: 800px;
        margin: 0 auto;
        padding: 0 20px;
      }

      /* 分栏布局：左侧固定宽度，右侧自适应 */
      .layout-container {
        display: flex;
        flex-wrap: wrap;
        gap: 30px; /* 左右栏间距 */
        padding: 20px 0;
      }

      /* 左侧栏：标题 + 照片 + 内容，固定宽度 */
      .left-column {
        flex: 0 0 260px; /* 固定宽度，让标题居左 */
        min-width: 220px;
        text-align: left; /* 标题、内容居左 */
      }

      /* 左侧标题样式：与_config.yml同步 */
      .page-title {
        font-size: 24px;
        font-weight: bold;
        margin: 0 0 15px; /* 与照片间距 */
      }

      /* 照片样式：限制大小 */
      .profile-photo {
        width: 100%;
        max-width: 200px;
        border-radius: 4px;
        margin: 0 0 15px; /* 与简介间距 */
      }

      /* 左侧文字段落：统一间距 */
      .left-column p {
        margin: 10px 0;
        line-height: 1.6;
      }

      /* Pageviews 调整：缩小尺寸，避免遮挡 */
      .clustrmaps-container {
        margin: 15px 0 0;
        max-width: 220px; /* 缩小地图宽度 */
      }

      /* 右侧栏：更紧凑，避免过宽 */
      .right-column {
        flex: 1;
        min-width: 300px;
      }

      /* 响应式适配（手机端堆叠） */
      @media (max-width: 768px) {
        .layout-container {
          flex-direction: column;
          align-items: flex-start; /* 手机端左对齐 */
          gap: 20px;
        }
        .left-column, .right-column {
          flex: 0 0 100%;
        }
      }
    </style>
  </head>
  <body>
    <div class="page-wrapper">
      <div class="container-lg px-3 my-5 markdown-body">
        <div class="layout-container">
          <!-- 左侧栏：标题 + 照片 + 简介 + GitHub链接 + Pageviews -->
          <div class="left-column">
            <!-- 动态标题：从_config.yml读取 -->
            <h1 class="page-title">{{ site.title }}</h1>
            
            {% if site.logo %}
              <img src="{{ site.logo | relative_url }}" alt="Profile Photo" class="profile-photo">
            {% endif %}
            
            <p>{{ site.description }}</p>
            
            {% if site.github.repository_url %}
              <p>
                <a href="{{ site.github.repository_url }}">View My GitHub Profile</a>
              </p>
            {% endif %}
            
            <div class="clustrmaps-container">
              <script type='text/javascript' id='clustrmaps' src='//cdn.clustrmaps.com/map_v2.js?cl=ffffff&w=240&t=tt&d=RXIJvl1M9HfHAiXc7AJe-qo0sHke2u_46ckL7Qp5HrY'></script>
            </div>

            {% if site.github.private != true and site.github.license %}
            <div class="footer border-top border-gray-light mt-5 pt-3 text-right text-gray">
              This site is open source. {% github_edit_link "Improve this page" %}.
            </div>
            {% endif %}
          
          </div>

          <!-- 右侧栏：About Me + 新闻 + 获奖 + 论文 -->
          <div class="right-column">
            {{ content }}
          </div>
        </div>

        <!--{% if site.github.private != true and site.github.license %}
        <div class="footer border-top border-gray-light mt-5 pt-3 text-right text-gray">
          This site is open source. {% github_edit_link "Improve this page" %}.
        </div>
        {% endif %}-->
      </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.1.0/anchor.min.js" integrity="sha256-lZaRhKri35AyJSypXXs4o6OPFTbTmUoltBbDCbdzegg=" crossorigin="anonymous"></script>
    <script>anchors.add();</script>
  </body>
</html>
